<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/general.html :: head"></head>
<link rel="stylesheet" href="/css/bootstrap-select.min.css">
<link rel="stylesheet" href="/css/ajax-bootstrap-select.css">
<body>
	<header th:insert="fragments/general.html :: header" th:remove="tag"></header>
	<main role="main" class="py-5">
		<div class="container bg-light shadow rounded py-5 px-5">
			<form id="formId" method="POST" enctype="multipart/form-data">
				<div th:include="fragments/general.html :: messages"></div>
				<div>
					<div class="form-group row" th:if="${model.foodProductImageUrl == null}">
						<label for="foodProductImage" class="col-sm-2 col-form-label" th:text="#{general.image}"></label>
						<div class="col-sm-10">
							<div class="cz-file-drop-area form-group">
								<div class="cz-file-drop-icon czi-cloud-upload"></div>
				                <span class="cz-file-drop-message" th:text="#{buttons.upload.image.foodproduct}"></span>
				                <input id="foodProductImage" name="foodProductImage" multiple="multiple" class="cz-file-drop-input" accept="image/png, image/jpeg" type="file">
				                <button class="cz-file-drop-btn btn btn-primary btn-sm mb-2" type="button" th:text="#{buttons.upload.image.selectfile}"></button>
				                <small class="form-text text-muted" th:text="#{buttons.upload.image.maxsize}"></small>
			                </div>
						</div>
					</div>
					<div th:include="fragments/localizedEntity.html :: locales"></div>
					<div class="form-group row">
						<label for="proteins" class="col-sm-2 col-form-label" th:text="#{foodEnergy.proteins}"></label>
						<div class="col-sm-10">
							<input id="proteins" th:value="${model.proteins}" type="text" class="form-control" name="proteins" required>
<!-- 							<div class="invalid-feedback" th:text="#{messages.error.addRecipe.recipeName}"></div> -->
						</div>
					</div>
					<div class="form-group row">
						<label for="fat" class="col-sm-2 col-form-label" th:text="#{foodEnergy.fat}"></label>
						<div class="col-sm-10">
							<input id="fat" th:value="${model.fat}" type="text" class="form-control" name="fat" required>
<!-- 							<div class="invalid-feedback" th:text="#{messages.error.addRecipe.recipeName}"></div> -->
						</div>
					</div>
					<div class="form-group row">
						<label for="carbohydrates" class="col-sm-2 col-form-label" th:text="#{foodEnergy.carbohydrates}"></label>
						<div class="col-sm-10">
							<input id="carbohydrates" th:value="${model.carbohydrates}" type="text" 
									class="form-control" name="carbohydrates" required>
<!-- 							<div class="invalid-feedback" th:text="#{messages.error.addRecipe.recipeName}"></div> -->
						</div>
					</div>
					<div class="form-group row">
						<label for="kilocalories" class="col-sm-2 col-form-label" th:text="#{foodEnergy.kilocalories}"></label>
						<div class="col-sm-10">
							<input id="kilocalories" th:value="${model.kilocalories}" type="text" 
									class="form-control" name="kilocalories" required>
<!-- 							<div class="invalid-feedback" th:text="#{messages.error.addRecipe.recipeName}"></div> -->
						</div>
					</div>
					<div class="form-group row">
						<label class="col-sm-2 col-form-label" th:text="#{minAge} + ' (' + #{minAge.year} + ')'"></label>
						<div class="col-sm-2">
							<input type="number" class="form-control" name="minAgeYear" th:value="${model.minAgeYear}" required>
<!-- 							<div class="invalid-feedback" th:text="#{messages.error.addRecipe.recipeName}"></div> -->
						</div>
						<label class="col-sm-2 col-form-label" th:text="#{minAge} + ' (' + #{minAge.month} + ')'"></label>
						<div class="col-sm-2">
							<input type="number" class="form-control" name="minAgeMonth" th:value="${model.minAgeMonth}" required>
<!-- 							<div class="invalid-feedback" th:text="#{messages.error.addRecipe.recipeName}"></div> -->
						</div>
					</div>
					<div class="form-group row">
						<label class="col-sm-2 col-form-label" th:text="#{foodProduct.isCommon}"></label>
						<div class="custom-control custom-checkbox ml-3">
	                   		<input class="custom-control-input" name="common" type="checkbox" th:checked="${model.common}" id="isCommon">
	                    	<label class="custom-control-label" for="isCommon"></label>
	                    </div>
					</div>
					<div class="form-group row">
						<label for="category" class="col-sm-2 col-form-label" th:text="#{category}"></label>
						<div class="col-sm-10">
							<select class="form-control custom-select" th:field="*{model.category}" id="category" name="category" required 
									data-size="5" data-live-search="true" th:title="#{selectpicker.category}">
								<optgroup th:each="categoryGroup: ${categories}" 
									th:label="${categoryGroup.key.localization(#locale)}">
									<option th:each="category: ${categoryGroup.value}" th:value="${category.id}" 
					        			th:text="${category.localization(#locale)}">
					        		</option>
							  	</optgroup>
					      	</select>
						</div>
					</div>
					<button id="save"
						class="btn btn-outline-primary btn-lg btn-block" th:text="#{buttons.save}"></button>
				</div>
			</form>
		</div>
	</main>
	<div th:replace="fragments/general.html :: footer"></div>
	<script src="/js/bootstrap-select.js"></script>
	<script src="/js/bootstrap-select-ru.js"></script>
	<script src="/js/whattoeat/saveFoodProduct.js"></script>
</body>
</html>